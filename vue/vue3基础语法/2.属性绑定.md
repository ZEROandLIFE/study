# Vue 属性绑定详解

## 一、基础语法

### 1. 完整语法：`v-bind:`
```html
<div v-bind:id="dynamicId">动态 ID</div>
```
- 作用：将 `dynamicId` 变量的值绑定到 `id` 属性
- 动态性：当 `dynamicId` 变化时，绑定的属性会自动更新

### 2. 简写：`:`
```html
<div :id="dynamicId">动态 ID</div>
```
- 推荐：`v-bind:` 可简写为 `:`，更简洁

## 二、绑定到不同属性

### 3. 绑定 Class
#### 对象语法
```html
<div :class="{ active: isActive }">动态 class</div>
```
- 作用：根据条件动态切换 class
- 规则：
  - `active` 是 class 名
  - `isActive` 是布尔值，为 true 时应用该 class
- 示例：
  - 若 `isActive` 为 true → 渲染为 `<div class="active">`
  - 若为 false → 无 active class

#### 数组语法
```html
<div :class="[classA, classB]">多个 class</div>
```
- 作用：绑定多个 class（可与对象语法混用）

### 4. 绑定 Style
#### 对象语法
```html
<div :style="{ color: textColor, fontSize: fontSize + 'px' }">动态 style</div>
```
- 作用：动态绑定内联样式
- 规则：
  - 键是 CSS 属性名（驼峰或短横线命名）
  - 值是字符串或响应式变量
- 示例：
  - 若 `textColor` 为 'red'，`fontSize` 为 16 → 渲染为 `<div style="color: red; font-size: 16px;">`

#### 数组语法
```html
<div :style="[baseStyles, overridingStyles]">多个样式对象</div>
```
- 作用：合并多个样式对象

### 5. 绑定普通 HTML 属性
```html
<img :src="imageSrc" :alt="imageAlt" />
<a :href="url">链接</a>
```
- 支持所有标准属性：如 `src`、`href`、`alt`、`disabled` 等

### 6. 绑定布尔属性
```html
<button :disabled="isButtonDisabled">按钮</button>
```
- 布尔属性：如 `disabled`、`readonly`、`checked`
- 规则：
  - 若值为 true → 属性存在（如 `disabled="true"`）
  - 若值为 false → 属性完全移除（而非 `disabled="false"`）

## 三、绑定到组件 Props

```html
<MyComponent :title="pageTitle" :count="42" />
```
- 作用：将父组件的数据传递给子组件
- 规则：
  - `title` 是子组件定义的 prop 名
  - `pageTitle` 是父组件的变量（或静态值如 "标题"）
- 静态 Prop：
  ```html
  <MyComponent title="静态标题" />
  ```

## 四、动态属性名

```html
<div :[dynamicAttrName]="value">动态属性名</div>
```
- 作用：属性名本身也可以是动态的（Vue 3.2+）
- 示例：
  - 若 `dynamicAttrName` 为 'data-id'，`value` 为 123 → 渲染为 `<div data-id="123">`

## 五、绑定原理

1. **响应式更新**：
   - 当绑定的变量变化时，Vue 会自动更新 DOM 属性或组件 props

2. **一次性插值**：
   - 属性绑定不同于文本插值 `{{ }}`，它直接操作 DOM 属性而非文本内容

## 六、常见问题

### 7. 何时用 v-bind？
- 需要动态设置属性值时（如 `:src="imageUrl"`）
- 静态属性直接写（如 `src="static.jpg"`）

### 8. `v-bind` vs `{{ }}`
- `v-bind`：绑定到 HTML 属性（如 `:class`、`:style`、`:value`）
- `{{ }}`：绑定到文本内容（如 `<p>{{ message }}</p>`）

### 9. 绑定对象（高级用法）
```html
<div v-bind="objectOfAttrs">批量绑定</div>
```
- 将对象的多个属性一次性绑定（如 `{ id: 'container', class: 'box' }`）

## 七、完整示例解析

```html
<template>
  <div>
    <!-- 动态 class -->
    <div :class="{ active: isActive }">动态 class</div>
    
    <!-- 动态 style -->
    <div :style="{ color: textColor }">动态 style</div>
    
    <!-- 组件 props -->
    <MyComponent :title="pageTitle" />
    
    <!-- 布尔属性 -->
    <button :disabled="isButtonDisabled">按钮</button>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const isActive = ref(true)          // 控制 class
const textColor = ref('red')        // 控制样式
const pageTitle = ref('页面标题')    // 传递给组件
const isButtonDisabled = ref(false) // 控制按钮状态
</script>
```

### 渲染结果
```html
<div class="active">动态 class</div>
<div style="color: red;">动态 style</div>
<button>按钮</button> <!-- 未禁用，因为 isButtonDisabled 为 false -->
```
