基本使用方式
1. 创建 Axios 实例（推荐）
javascript
import axios from 'axios';

// 创建自定义实例
const api = axios.create({
  baseURL: 'https://api.example.com', // 基础URL
  timeout: 1000, // 请求超时时间
  headers: { 'X-Custom-Header': 'foobar' } // 默认请求头
});
2. 直接使用全局 axios 对象
javascript
axios.get('/user?ID=12345')
  .then(response => {
    console.log(response.data);
  })
  .catch(error => {
    console.error('Error:', error);
  });
四、.get 方法详解
.get 用于发送 GET 请求，通常用于获取数据。

基本语法
javascript
axios.get(url[, config])
参数说明
url：请求的 URL
config（可选）：配置对象，可以包含以下属性：
params：URL 参数对象，会自动拼接到 URL 上
headers：自定义请求头
timeout：请求超时时间（毫秒）
responseType：响应数据类型（如 json、text、blob 等）
示例代码
javascript
// 示例1：基本GET请求
axios.get('https://api.example.com/users')
  .then(response => {
    console.log('用户数据:', response.data);
  })
  .catch(error => {
    console.error('获取用户数据失败:', error);
  });

// 示例2：带参数的GET请求
axios.get('https://api.example.com/users', {
  params: {
    id: 123,
    name: 'John'
  },
  headers: {
    'Authorization': 'Bearer token123'
  }
})
  .then(response => {
    console.log('特定用户数据:', response.data);
  });

// 示例3：使用async/await
async function fetchUserData() {
  try {
    const response = await axios.get('https://api.example.com/users/123');
    console.log('用户详情:', response.data);
  } catch (error) {
    console.error('获取用户详情失败:', error);
  }
}
五、.post 方法详解
.post 用于发送 POST 请求，通常用于提交数据。

基本语法
javascript
axios.post(url[, data[, config]])
参数说明
url：请求的 URL
data：作为请求主体发送的数据
config（可选）：配置对象，可以包含以下属性：
headers：自定义请求头（特别是 Content-Type）
timeout：请求超时时间
responseType：响应数据类型
示例代码
javascript
// 示例1：基本POST请求
axios.post('https://api.example.com/users', {
  name: 'John',
  email: 'john@example.com'
})
  .then(response => {
    console.log('创建用户成功:', response.data);
  })
  .catch(error => {
    console.error('创建用户失败:', error);
  });

// 示例2：带配置的POST请求
axios.post('https://api.example.com/users', 
  { name: 'Jane' },
  {
    headers: {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer token123'
    },
    timeout: 5000
  }
)
  .then(response => {
    console.log('用户创建响应:', response.data);
  });

// 示例3：使用FormData提交表单
async function uploadFile(file) {
  const formData = new FormData();
  formData.append('file', file);
  
  try {
    const response = await axios.post('https://api.example.com/upload', formData, {
      headers: {
        'Content-Type': 'multipart/form-data'
      }
    });
    console.log('文件上传成功:', response.data);
  } catch (error) {
    console.error('文件上传失败:', error);
  }
}
六、GET 和 POST 的主要区别
特性	GET 请求	POST 请求
用途	获取数据	提交/修改数据
数据位置	URL 参数中	请求体中
数据量限制	受 URL 长度限制（通常约 2048 字符）	无理论限制
缓存	可被缓存	默认不被缓存
安全性	参数暴露在 URL 中，不安全	参数在请求体中，相对安全
书签/分享	可保存为书签或分享	不可保存为书签或分享
IDEMPOTENT	是（多次请求效果相同）	否（多次请求可能产生不同结果）
七、高级功能
1. 请求和响应拦截器
javascript
// 添加请求拦截器
axios.interceptors.request.use(
  config => {
    // 在发送请求前做些什么
    config.headers.Authorization = 'Bearer token123';
    return config;
  },
  error => {
    // 对请求错误做些什么
    return Promise.reject(error);
  }
);

// 添加响应拦截器
axios.interceptors.response.use(
  response => {
    // 对响应数据做点什么
    return response.data; // 直接返回数据部分
  },
  error => {
    // 对响应错误做点什么
    if (error.response.status === 401) {
      // 处理未授权情况
    }
    return Promise.reject(error);
  }
);
2. 并发请求
javascript
const request1 = axios.get('https://api.example.com/users/1');
const request2 = axios.get('https://api.example.com/users/2');

axios.all([request1, request2])
  .then(axios.spread((response1, response2) => {
    console.log('用户1:', response1.data);
    console.log('用户2:', response2.data);
  }));
3. 取消请求
javascript
const CancelToken = axios.CancelToken;
const source = CancelToken.source();

axios.get('https://api.example.com/data', {
  cancelToken: source.token
}).catch(thrown => {
  if (axios.isCancel(thrown)) {
    console.log('请求已取消:', thrown.message);
  } else {
    // 处理错误
  }
});

// 取消请求
source.cancel('用户主动取消了请求');
八、最佳实践
封装 API 调用：将 API 调用封装到单独的模块中
统一错误处理：使用拦截器统一处理错误
合理使用 baseURL：为不同服务创建不同的 Axios 实例
设置合理的超时时间：避免长时间等待
使用 async/await：使异步代码更易读
保护敏感信息：不要在前端硬编码 API 密钥
处理 CORS：确保后端配置了正确的 CORS 头
九、完整示例
javascript
import axios from 'axios';

// 创建API实例
const api = axios.create({
  baseURL: 'https://api.example.com',
  timeout: 10000
});

// 请求拦截器
api.interceptors.request.use(config => {
  config.headers.Authorization = localStorage.getItem('token');
  return config;
});

// 响应拦截器
api.interceptors.response.use(
  response => response.data,
  error => {
    if (error.response.status === 401) {
      // 处理未授权
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

// API服务模块
const UserService = {
  async getUser(id) {
    try {
      return await api.get(`/users/${id}`);
    } catch (error) {
      console.error('获取用户失败:', error);
      throw error;
    }
  },
  
  async createUser(userData) {
    try {
      return await api.post('/users', userData);
    } catch (error) {
      console.error('创建用户失败:', error);
      throw error;
    }
  }
};

// 在组件中使用
async function fetchUserData() {
  try {
    const user = await UserService.getUser(123);
    console.log('用户数据:', user);
  } catch (error) {
    console.error('获取用户数据时出错:', error);
  }
}